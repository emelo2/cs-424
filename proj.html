<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
    <style type="text/css">
    </style>
  </head>
<body>
  <script type="text/javascript">

  /*
    Use D3 to load the GeoJSON file
    */
    var width = 800;
    var height = 600;
    var canvas = d3.select("body")
      .append("svg")
      .attr("width", 900)
      .attr("height", 760)
      var color = d3.scaleOrdinal(d3.schemeCategory10);


    d3.json("Chicago2.geojson", function(data){
      

      var projection = d3.geoMercator()
        .scale(1)
        .translate([0,0])
        .precision(0);

      var path = d3.geoPath().projection(projection);

      var bounds = path.bounds(data);

      var scale = .95 / Math.max((bounds[1][0] - bounds[0][0]) / width,
        (bounds[1][1] - bounds[0][1]) / height);

      var transl = [(width - scale * (bounds[1][0] + bounds[0][0])) / 2,
        (height - scale * (bounds[1][1] + bounds[0][1])) / 2];
        projection.scale(scale).translate(transl);
                          //var color = d3.scaleOrdinal(d3.schemeCategory20c);


      canvas.selectAll("path").data(data.features)
        .enter()
        .append("path")
        .attr("d", path)
        .style("fill",function(d){
          return  color(d.properties.community);
        })
        .style("stroke", "black");

      /*d3.json("agvUsage.json", function(use){
        canvas.selectAll("path").data(data.features).enter().append("path")
        .attr("d", path)
        .style("fill", "pink")
        .style("stroke", "black");


      })*/
      });
  </script>
</body>
</html>
